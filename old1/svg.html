<!DOCTYPE html>
<html>
<head>
<title>Image drawing</title>
<script>

window.addEventListener("DOMContentLoaded", function() {
var svg = document.getElementById("svg");
var canvas =
document.getElementById("canvas");
AppendtoCanvas(svg, canvas);
AppendImg(canvas);

function AppendtoCanvas(el, canvas) {
var svgst = new XMLSerializer().serializeToString(el);
var svg64 = window.btoa(svgst);
var svgscr = "data:image/svg+xml;base64," + svg64;
var imageObj = new Image();
imageObj.src = svgscr;
canvas.width  = 600;
canvas.height = 600;
var context = canvas.getContext("2d");
context.fillStyle = "#2196F3";
context.fillRect(0, 0, canvas.width, canvas.height);
context.drawImage(imageObj, 50, 50);
var imageData = context.getImageData(50, 50, imageObj.width, imageObj.height);
context.putImageData(imageData, 50, 50);
}

function AppendImg(canvas) {
var image = new Image();
image.src = canvas.toDataURL("image/png");
document.getElementById("img").append(image);
}
});

</script>
</head>
<body>
<div hidden>
<svg id="svg" width="512" height="512" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="flag" class="svg-inline--fa fa-flag fa-w-16 fa-stack-1x" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="white" d="M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"/></svg>
<canvas id="canvas"></canvas>
</div>
<div id="img">
</div>
<blockquote id="res">
</blockquote>
</body>
</html>