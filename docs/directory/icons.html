<link href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"></script>
<style>

</style>

<script>
// default
$(function() {
$.extend($.fn.bootstrapTable.defaults, 
  {
  pagination: true,
  pageSize: 50,
  height:600
  });
   $.extend($.fn.bootstrapTable.columnDefaults, {
      sortable: true
    });
});
</script>

<!-- submit -->
<button id="submit" type="button" class="btn btn-danger" disabled>Submit <span class="badge badge-light"></span></button>
    
<!-- table toolbar -->
<div id="toolbar" role="toolbar">
</div>

<!-- Table -->
<table
  id="table"
  data-toggle="table"
  data-unique-id="name"
  data-classes="table table-hover table-borderless px-1"
  data-thead-classes="default-color white-text"
  data-ajax="ajaxRequest"
  data-pagination="true"
  data-page-size="50"
  data-click-to-select="true"
  multipleSelectRow: "true"
  data-toolbar="#toolbar"
  data-buttons-class="btn teal white-text darken-4 btn-sm px-3"
  data-search="true"
  data-buttons-align="left"
  data-show-toggle="true"
  data-show-columns="true"
  >
  <thead>
    <tr>
    <th data-field="state" data-checkbox="true"></th>
    <th data-field="icon" data-formatter="iconFormatter" data-align="center">icon</th>
     <th data-field="name">name</th>
     <th data-field="unicode">unicode</th>
     <th data-field="class" data-formatter="clFormatter">class</th>
     <th data-field="prefixes">prefixes</th>
     <th data-field="styles">styles</th>
     <th data-field="terms" data-formatter="termsFormatter" data-width="60">terms</th>
    </tr>
  </thead>
</table>
      
<script>
var $table = $('#table');
var $toolbar = $('#toolbar');
var $submit = $('#submit');
var $selects = $('#selects');

function ajaxRequest(params) {
  var url = '../data/json/icons.json';
  $.get(url).then(function (data) {
  params.success(getIcons(data));
  });
}

// Format 
function indexFormatter(index, row) {
return index;
}

function iconFormatter(index, row) {
return `<span class="badge badge-light">
 <i class='${row.prefix()} fa-${row.name} fa-fw fa-3x'></i></span>`;
}

function clFormatter(index, row) {
 return row.class();
}

function termsFormatter(index, row) {
var terms = row.terms.map(term => `<span class="badge badge-success">${term}</span>`).join(' ');
return `<div style='height: 50px' class='mh-25 overflow-auto'>${terms}</div>`;
}     

// Events

$(function() {
  $table.on('check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table', function (e, name, args) {
  var selects = 
  $table.bootstrapTable('getAllSelections');
  var sspan = $submit.find("> span");

  // select button
  $submit.prop('disabled', !selects.length);
  (selects.length > 0) ? 
  sspan.text(selects.length) : sspan.empty();
  })
})

</script>